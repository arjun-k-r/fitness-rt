<ion-header>
  <ion-navbar role="toolbar">
    <ion-title>Meal details</ion-title>
    <ion-buttons end>
      <button (click)="saveMeal()" [disabled]="!meal.foods.length" ion-button padding>
        <ion-icon name="cloud-done"></ion-icon>
      </button>
      <button (click)="removeMeal()" icon-only ion-button padding>
        <ion-icon name="trash"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content>
  <ion-fab bottom right>
    <button (click)="addFood()" color="primary" ion-fab>
      <ion-icon name="add"></ion-icon>
    </button>
  </ion-fab>
  <ion-list no-lines>
    <ion-list-header>Details</ion-list-header>
    <ion-item>
      <ion-label fixed>Meal time</ion-label>
      <ion-datetime displayFormat="HH:mm" [(ngModel)]="meal.hour" pickerFormat="HH mm"></ion-datetime>
    </ion-item>
    <ion-item>
      <ion-label fixed>Notes</ion-label>
      <ion-textarea [(ngModel)]="meal.notes" type="text" wrap="hard"></ion-textarea>
    </ion-item>
    <button (click)="addToFavorites()" ion-item>
      <ion-note item-start>
        <ion-icon color="primary" name="favorite"></ion-icon>
      </ion-note>
      <h2>Add to favorites</h2>
    </button>
    <button (click)="takeHungerTest()" ion-item>
      <h2>Are your realy hungry?</h2>
      <p item-content>Take test</p>
    </button>
    <ion-list-header>Foods</ion-list-header>
    <button (click)="changeFood(i)" ion-item *ngFor="let food of meal.foods; let i = index">
      <ion-icon color="primary" item-start name="create"></ion-icon>
      <h2 text-wrap>{{ food.name }}</h2>
      <p item-content>{{ food.quantity }} g</p>
    </button>
    <ion-item>
      <h2 text-wrap>Total quantity</h2>
      <p item-content>{{ meal.quantity }} g</p>
    </ion-item>
    <ion-list-header>Nourishment</ion-list-header>
    <ion-item-group>
      <ion-item-divider>Proximates</ion-item-divider>
      <ion-item>
        Energy
        <p item-content>
          {{ meal.nourishment.energy?.value }} {{ meal.nourishment.energy?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Water
        <p item-content>{{ meal.nourishment.energy?.value }} {{ meal.nourishment.energy?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Protein
        <p item-content>{{ meal.nourishment.protein?.value }} {{ meal.nourishment.protein?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Carbohydrates
        <p item-content>{{ meal.nourishment.carbs?.value }} {{ meal.nourishment.carbs?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Fiber
        <p item-content>{{ meal.nourishment.fiber?.value }} {{ meal.nourishment.fiber?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Sugars
        <p item-content>{{ meal.nourishment.sugars?.value }} {{ meal.nourishment.sugars?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Fats
        <p item-content>{{ meal.nourishment.fats?.value }} {{ meal.nourishment.fats?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Trans fat
        <p item-content>{{ meal.nourishment.transFat?.value }} {{ meal.nourishment.transFat?.unit }}
        </p>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider>Essential fatty acids</ion-item-divider>
      <ion-item>
        Omega-3 (ALA)
        <p item-content>{{ meal.nourishment.ala?.value }} {{ meal.nourishment.ala?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Omega-6 (LA)
        <p item-content>{{ meal.nourishment.la?.value }} {{ meal.nourishment.la?.unit }}
        </p>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider>Essential amino acids</ion-item-divider>
      <ion-item>
        Histidine
        <p item-content>{{ meal.nourishment.histidine?.value }} {{ meal.nourishment.histidine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Isoleucine
        <p item-content>{{ meal.nourishment.isoleucine?.value }} {{ meal.nourishment.isoleucine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Leucine
        <p item-content>{{ meal.nourishment.leucine?.value }} {{ meal.nourishment.leucine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Lysine
        <p item-content>{{ meal.nourishment.lysine?.value }} {{ meal.nourishment.lysine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Methionine
        <p item-content>{{ meal.nourishment.methionine?.value }} {{ meal.nourishment.methionine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Phenylalanine
        <p item-content>{{ meal.nourishment.phenylalanine?.value }} {{ meal.nourishment.phenylalanine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Threonine
        <p item-content>{{ meal.nourishment.threonine?.value }} {{ meal.nourishment.threonine?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Tryptophan
        <p item-content>{{ meal.nourishment.tryptophan?.value }} {{ meal.nourishment.tryptophan?.unit }}
        </p>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider>Essential vitamins</ion-item-divider>
      <ion-item>
        Vitamin A
        <p item-content>{{ meal.nourishment.vitaminA?.value }} {{ meal.nourishment.vitaminA?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B1 (Thiamine)
        <p item-content>{{ meal.nourishment.vitaminB1?.value }} {{ meal.nourishment.vitaminB1?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B2 (Riboflavin)
        <p item-content>{{ meal.nourishment.vitaminB2?.value }} {{ meal.nourishment.vitaminB2?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B3 (Niacin)
        <p item-content>{{ meal.nourishment.vitaminB3?.value }} {{ meal.nourishment.vitaminB3?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B5 (Pantothenic acid)
        <p item-content>{{ meal.nourishment.vitaminB5?.value }} {{ meal.nourishment.vitaminB5?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B6 (Pyridoxine)
        <p item-content>{{ meal.nourishment.vitaminB6?.value }} {{ meal.nourishment.vitaminB6?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B9 (Folate)
        <p item-content>{{ meal.nourishment.vitaminB9?.value }} {{ meal.nourishment.vitaminB9?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin B12 (Cobalamin)
        <p item-content>{{ meal.nourishment.vitaminB12?.value }} {{ meal.nourishment.vitaminB12?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Choline
        <p item-content>{{ meal.nourishment.choline?.value }} {{ meal.nourishment.choline?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin C (Ascorbic acid)
        <p item-content>{{ meal.nourishment.vitaminC?.value }} {{ meal.nourishment.vitaminC?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin D (Cholecalciferol)
        <p item-content>{{ meal.nourishment.vitaminD?.value }} {{ meal.nourishment.vitaminD?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin E (Tocopherol)
        <p item-content>{{ meal.nourishment.vitaminE?.value }} {{ meal.nourishment.vitaminE?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Vitamin K
        <p item-content>{{ meal.nourishment.vitaminK?.value }} {{ meal.nourishment.vitaminK?.unit }}
        </p>
      </ion-item>
    </ion-item-group>
    <ion-item-group>
      <ion-item-divider>Essential minerals</ion-item-divider>
      <ion-item>
        Calcium
        <p item-content>{{ meal.nourishment.calcium?.value }} {{ meal.nourishment.calcium?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Copper
        <p item-content>{{ meal.nourishment.copper?.value }} {{ meal.nourishment.copper?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Iron
        <p item-content>{{ meal.nourishment.iron?.value }} {{ meal.nourishment.iron?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Magnesium
        <p item-content>{{ meal.nourishment.magnesium?.value }} {{ meal.nourishment.magnesium?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Manganese
        <p item-content>{{ meal.nourishment.manganese?.value }} {{ meal.nourishment.manganese?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Phosphorus
        <p item-content>{{ meal.nourishment.phosphorus?.value }} {{ meal.nourishment.phosphorus?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Potassium
        <p item-content>{{ meal.nourishment.potassium?.value }} {{ meal.nourishment.potassium?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Selenium
        <p item-content>{{ meal.nourishment.selenium?.value }} {{ meal.nourishment.selenium?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Sodium
        <p item-content>{{ meal.nourishment.sodium?.value }} {{ meal.nourishment.sodium?.unit }}
        </p>
      </ion-item>
      <ion-item>
        Zinc
        <p item-content>{{ meal.nourishment.zinc?.value }} {{ meal.nourishment.zinc?.unit }}
        </p>
      </ion-item>
    </ion-item-group>
  </ion-list>
</ion-content>